<!--pages/payment/payment.wxml-->
<view class="container">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="page-title">充值中心</text>
    <text class="page-subtitle">选择套餐，升级您的爪迹星体验</text>
  </view>
  
  <!-- 套餐选择 -->
  <view class="plans-section">
    <view class="section-title">选择套餐</view>
    <view class="plans-grid">
      <view 
        wx:for="{{plans}}" 
        wx:key="id" 
        class="plan-card {{selectedPlan === item.id ? 'selected' : ''}}"
        bindtap="selectPlan"
        data-plan-id="{{item.id}}"
      >
        <view class="plan-name">{{item.name}}</view>
        <view class="plan-price">¥{{item.price}}</view>
        <view class="plan-desc">{{item.description}}</view>
        <view class="plan-features">
          <text wx:for="{{item.features}}" wx:key="*this" class="feature-item">{{item}}</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- 支付方式 -->
  <view class="payment-section">
    <view class="section-title">支付方式</view>
    <view class="payment-methods">
      <view 
        wx:for="{{paymentMethods}}" 
        wx:key="id" 
        class="payment-method {{selectedPayment === item.id ? 'selected' : ''}}"
        bindtap="selectPayment"
        data-payment-id="{{item.id}}"
      >
        <view class="payment-icon">{{item.icon}}</view>
        <text class="payment-name">{{item.name}}</text>
      </view>
    </view>
  </view>
  
  <!-- 支付按钮 -->
  <view class="payment-actions">
    <button 
      class="btn btn-primary payment-btn" 
      bindtap="createPayment"
      disabled="{{!selectedPlan || !selectedPayment || loading}}"
    >
      {{loading ? '处理中...' : '立即支付'}}
    </button>
  </view>
</view>
